package 入门.class003位运算.题型;

public class 判断N的幂次方_前提是N是2的次方 {

    public static void main(String[] args) {
        System.out.println(isPowerOfN(16, 4));
    }

    //n为数字 x为幂次方
    public static boolean isPowerOfN(int n, int x) {
        //判断是否为负数
        if (n <= 0) {
            return false;
        }

        int[] arr = new int[30];
        arr[0] = 0;
        arr[1] = 0b11010101010101010101010101010101; //2
        arr[2] = 0b10101010101010101010101010101010; //4
        arr[3] = 0b01110111011101110111011101110111; //8
        arr[4] = 0b11011110111101111011110111101111; //16
        arr[5] = 0b11011111011111011111011111011111; //32
        arr[6] = 0b11110111111011111101111110111111; //64
        arr[7] = 0b11111111011111110111111101111111; //128
        arr[8] = 0b11111011111111011111111011111111; //256
        arr[9] = 0b11011111111101111111110111111111; //512
        arr[10] = 0b11111111110111111111101111111111; //1024
        arr[11] = 0b11111111011111111111011111111111; //2048
        arr[12] = 0b11111101111111111110111111111111; //4096
        arr[13] = 0b11110111111111111101111111111111; //8192
        arr[14] = 0b11011111111111111011111111111111; //16384
        arr[15] = 0b01111111111111110111111111111111; //32768
        arr[16] = 0b11111111111111101111111111111111; //65536
        arr[17] = 0b11111111111111011111111111111111; //131072
        arr[18] = 0b11111111111101111111111111111111; //262144
        arr[19] = 0b11111111111011111111111111111111; //524288
        arr[20] = 0b11111111110111111111111111111111; //1048576
        arr[21] = 0b11111111101111111111111111111111; //2097152
        arr[22] = 0b11111111011111111111111111111111; //4194304
        arr[23] = 0b11111110111111111111111111111111; //8388608
        arr[24] = 0b11111101111111111111111111111111; //16777216
        arr[25] = 0b11111011111111111111111111111111; //33554432
        arr[26] = 0b11110111111111111111111111111111; //67108864
        arr[27] = 0b11101111111111111111111111111111; //134217728
        arr[28] = 0b11011111111111111111111111111111; //268435456
        arr[29] = 0b10111111111111111111111111111111; //536870912

        //先判断x选择哪个幂次方
        int index = x & 0b11111111111111111111111111111111;

        //判断index二进制到底是第几位为1
        int position = Integer.numberOfTrailingZeros(index);

        return n >= 0 && (n & (n - 1)) == 0 && (n & arr[position]) == 0;
    }
}
